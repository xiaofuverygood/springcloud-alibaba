http://localhost:8001/actuator/health   服务健康检查

consul启动：
    consul agent -dev 这是最开始启动的命令 只能本机访问
    consul agent -dev -client 0.0.0.0 -ui

负载均衡算法: rest第几次请求数 % 服务器集群总数量 = 实际调用服务器位置下标 (每次重启服务后rest从1开始计算)

OpenFeign 日志级别
NONE: 默认的，不显示任何日志;
BASIC: 仅记录请求方法、URL、响应状态码及执行时间;
HEADERS: 除了 BASIC 中定义的信息之外，还有请求和响应的头信息;
FULL: 除了 HEADERS 中定义的信息之外，还有请求和响应的正文及元数据;

Hystrix 主要作用:
    出现不可预知错误的情况下
         服务降级 fallback: 不让客户端等待，返回一个预定的结果。
         服务熔断 break: 直接拒绝访问，禁止用户进行当前操作 (先熔断，在降级)。
         服务限流 flow limit: 限制访问量，防止某一时间大量的访问导致服务崩溃。
         实时监控

Feign设置超时时间:
    1.使用Feign调用接口分两层，ribbon的调用和hystrix的调用，所以ribbon的超时时间和Hystrix的超时时间的结合就是Feign的超时时间。
    2. 一般情况下 都是 ribbon的超时时间（<）hystrix的超时时间（因为涉及到ribbon的重试机制），如果ribbon 的超时时间大于hystrix的超时时间，对于ribbon的重试是没有意义的（hystrix超时熔断了，ribbon无法重试）。
    3.Hystrix组件缺省超时判断默认为1秒钟，超过1秒就会报超时异常日志。

涉及到断路器的三个重要参数: 快照时间窗、请求总数阀值、错误百分比阀值。
    1.快照时间窗:断路器确定是否打开需要统计一些请求和错误数据，而统计的时间范国就是快照时间窗，默认为最近的10秒。
    2.请求总数阀值:在快照时间窗内，必须满足请求总数阀值才有资格熔断。默认为20，意味着在10秒内，如果该hystrix命令的调用次数不足20次即使所有的请求都超时或其他原因失败，断路器都不会打开。
    3.错误百分比阀值:当请求总教在快照时间窗内超过了阀值，比如发生了30次调用，如果在这30次调用中，有15次发生了超时异常，也就是超过50%的错误百分比，在默认设定50%阀值情况下，这时候就会将断路器打开。

Gateway的三大概念:
    Route 路由: 路由是构建网关的基本模块，它由ID，目标URI，一系列的断言和过滤器组成，如果断言为true则匹配该路由。
    Predicate 断言: 开发人员可以匹配HTTP请求中的所有内容(例如请求头或请求参数)，如果请求与断言相匹配则进行路由。
    Filter 过滤: 指的是Spring框架中GatewayFilter的实例，使用过滤器，可以在请求被路由前或者之后对请求进行修改。

配置文件:
    application.yml 用户级的资源配置项
    bootstrap.yml 系统级的资源配置项

sentinel:
    流控:
        1.QPS:
        2.线程数:
        3.关联:
        4.预热: 阈值 / 3 = 阈值
        5，排队等待
    降级:
        1.RT:
        2.异常比例:
        3.异常数:
    热点key:
        1.参数 qps
        2.参数值 qps
    系统规则:



tc
tm
rm














